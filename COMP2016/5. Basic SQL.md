```sql
	SELECT  [DISTINCT] target-list [AS] ...
	FROM    relation-list
	WHERE   qualification
```
- Basic SQL Query
	- relation-list
		- a list of relation names
	- target-list
		- a list of attributes of relations in relation-list
	- qualification
		- query conditions combined using AND, OR and NOT;
	- SELECT ... FROM ...
		- projection
	- DISTINCT
		- an optional keyword to eliminate duplicates
	- AS
		- rename output columns
	- WHERE
		- filtering condition
	- LIKE
		- string matching
		- ' _ ': any one character
		- ' % ': 0 or more arbitrary characters
	- ORDER BY
		- ASC or DESC
	- SELECT * FROM S1, S2
		- cartesian product
	- SELECT name
	  FROM CUST, ACC 
	  WHERE CUST.cust-id = ACC.cust-id
		- join
	- SELECT DISTINCT <span style="color: red;">T1</span> acc-id
	  FROM ACC  <span style="color: red;">T1</span>, ACC  <span style="color: red;">T2</span>
	  WHERE  <span style="color: red;">T1</span>.cust-id =  <span style="color: red;">T2</span>.cust-id
		- self join
		- T1 and T2 are used to rename the input tables
	- INTERSECT
		- intersection
	- UNION
		- union
	- EXCEPT
		- set difference

## **Tutorial**
![[COMP2016/5.png/Tutorial 1.png]]
```sql
SELECT DISTINCT sname 
FROM Sailors S, Reserves R
WHERE S.sid = R.sid AND bid=103
```
![[COMP2016/5.png/Tutorial 2.png]]
```sql
SELECT DISTINCT sid
FROM Reserves
```
![[COMP2016/5.png/Tutorial 3.png]]
```sql
SELECT DISTINCT sname
FROM Sailors S, Reserves R
WHERE S.sid = R.sid
```
![[COMP2016/5.png/Tutorial 4.png]] 
```sql
SELECT DISTINCT sid 
FROM Reserves R, Boats B
WHERE R.bid = B.bid AND B.color = 'Red'
```
![[COMP2016/5.png/Tutorial 5.png]]
```sql
SELECT DISTINCT sname 
FROM Sailor S, Reserves R, Boats B
WHERE S.sid = R.sid AND R.bid = B.bid AND B.color = 'Red'
```
![[COMP2016/5.png/Tutorial 6.png]]
```sql
SELECT DISTINCT S.sid 
FROM Reserves R1, Reserves R2
WHERE R1.sid=R2.sid AND R1.bid<>R2.bid AND R1.day=R2.day
```
![[COMP2016/5.png/Tutorial 7.png]]
```sql
SELECT DISTINCT S.sname
FROM Sailors S, Reserves R1, Reserves R2
WHERE S.sid=R1.sid AND R1.sid=R2.sid AND R1.bid<>R2.bid AND R1.day=R2.day
```
![[COMP2016/5.png/Tutorial 8.png]]
```sql
SELECT DISTINCT sid 
FROM Reserves R, Boats B
WHERE R.bid=B.bid AND (B.color='Red' OR B.color='Green')
```
```sql
(SELECT sid 
FROM Boats B, Reserves R
WHERE B.bid=R.bid AND B.color='Red')
UNION
(SELECT sid
FROM Boats B, Reserves R
WHERE B.bid=R.bid AND B.color='Green')
```
![[COMP2016/5.png/Tutorial 9.png]]
```sql
SELECT R1.sid
FROM Boats B1, Reserves R1,
     Boats B2, Reserves R2
WHERE (R1.bid=B1.bid AND B1.color=‘red’) AND (R2.bid=B2.bid AND B2.color=‘green’) AND R1.sid=R2.sid
```
```sql
(SELECT sid 
FROM Boats B, Reserves R
WHERE B.bid=R.bid AND B.color='Red')
INTERSECT
(SELECT sid
FROM Boats B, Reserves R
WHERE B.bid=R.bid AND B.color='Green')
```
![[COMP2016/5.png/Tutorial 10.png]]
```sql
(SELECT S.sid
FROM Sailors S
WHERE S.age > 20)
EXCEPT
(SELECT sid
FROM Reserves R, Boats B
WHERE S.age > 20 AND R.bid=B.bid AND B.color='Red')
```

![[COMP2016/5.png/Tutorial 11.png]]
```sql
SELECT DISTINCT name
FROM CUST C, WITHDRAW W
WHERE C.cust-id=W.cust-id AND amount > 1000
```
![[COMP2016/5.png/Tutorial 12.png]]
```sql
SELECT DISTINCT W1.acc-id
FROM WITHDRAW W1, WITHDRAW W2,
WHERE W1.amount > W2.amount
```
![[COMP2016/5.png/Tutorial 13.png]]
```sql
SELECT W1.acc-id
FROM WITHDRAW W1, WITHDRAW W2
WHERE W1.acc-id=W2.acc-id AND W1.cust-id<>W2.cust-id
```
