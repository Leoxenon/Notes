- Network Layer
	- Position of Network Layer
		- Network layer is concerned with getting packets from source all the way to destinations
		- It is the lowest layer that deals with end-to-end transmission
			- The physical and data link layers of a network operate locally
				- hop-to-hop transimission
		- and may make many hops at intermediate nodes
			- hop
				- is one portion of the path between source and destination
				- occurs at each time packets are passed to the next network device
			- hope count
				- refers to the number of intermediate devices through which data must pass between source and destination
	- Key Network-Layer Functions
		- The network layer is responsible for *host-to-host* data (packet) delivery
			- Connect heterogeneous networks together to look like a single network (**internetworking**)
			- Uniquely identify each device to allow global communication (**addressing**) 
			- Make decision to deliver data to the destination (**routing**) 
			- Fit data to the size used by the lower layer protocol (**fragmentation**)
	- Internetworking
		- Universal address of source and destination at the network layer
		- Host-to-host path
	- Router
		- three-layer device
			- physical, data-link and network
		- is an internetworking device
		- connects independent networks to form an internetwork
		- Host vs Router
			- Hosts send remote traffic to the nearest router
			- Routers do the routing and know ways to all destinations
		- Routing vs Forwarding
			- Routing
				- decide the direction to send a packet
			- Forwarding
				- send a packet on its way
	- What the network layer do
		- Transport segment from sending to receiving host 
		- Onsending side, encapsulates segments into datagrams 
		- On receiving side, delivers segments to transport layer 
		- Network layer protocols in every host, router
		- Router examines header fields in all IP datagrams passing through it
	- Network Service Models
		- What kind of service does the Network layer provide to the Transport layer
			- Datagram or connectionless service
				- Datagram Approach
					- Each packet contains a destination address
					- Each router uses it to forward packets, maybe on different paths
					- Each packet (datagram) is treated independently from one another
					- Even if a message is broken into several packets, each of them will be treated as a separate unit across the network
						- these packets may go by different paths across the network
					- Packets may arrive out of order, and the transport layer needs to reorder them
			- Virtual circuit or connection-oriented service
				- Virtual Circuit (VC) Approach
					- The route is chosen at the beginning of the communication
						- call setup
					- The route information are stored in routers
					- All packets of the same message are transferred via the preplanned route
						- the same route
					- Each packet carries a tag – VCI
						- Virtual Circuit Identifier (VCI) 
							- is used to identify the route
					- Packets arrive in order
					- Types of Virtual Circuit
						- Permanent virtual circuit (PVC)
							- Set up by the network provider and is in place all the time
							- No need to set up the VC before transmission or terminate the VC after transmission
						- Switched virtual circuit (SVC)
							- Set up every time when a VC is needed, and terminate after the transmission
							- The same node may get the same or a different VC according to network conditions 
							- More flexible, but requires set up time before data transfer begins
				- Circuit Switching vs Switched Virtual Circuit
					- Circuit switching
						- Switches are closed to create a path between A and B
						- The path is not shared
					- Switched Virtual Circuit
						- Switches create an entry in their routing table to create a route between A and B
						- Links on the route can be shared
		- IP Datagram Structure
			- The network layer of the Internet uses datagrams
			- An IP datagram is a variable length packet consisting of 2 parts
				- Header and Data
		- Addressing
			- Three levels of addresses are used in an internet using the TCP/IP protocols
				- Physical (link) address
					- The physical address is the address of a node as defined by its LAN or WAN
					- The two nodes are connected by a link
					- At the data link level, this frame contains physical (link) addresses in the header
						- These are the only addresses needed
					-  Media Access Control (MAC) address
						- 48-bit (6 bytes) physical address written as 12 hexadecimal digits, with every 2 digits separated by a colon
						- 07:01:02:01:2C:4B
				- Logical (IP) address
					- universal address that can pass through the LAN boundaries
					- The packet at the network layer contains the logical addresses
						- which remain same from the original source to the final destination
						- the physical addresses will change as the packet moves from one network to another
				- Port address
					- 16-bit address represented by one decimal number
						- 753
					- label different processes
			- The translation of a hostname into an IP address is done via a database lookup
				- The distributed database used is called the Domain Name System (DNS)
				- All machines on the Internet have an IP address
			- Most services on the Internet are reachable via well-known ports
				- All HTTP servers on the Internet can be reached at port number “80”
			- The translation of an IP address into a MAC address is performed via the Address Resolution Protocol (ARP)
## **Tutorial**
![[COMP3015/2.png/Tutorial 1.png]]
***Answer*** : 
A: Interface 0
B: R2
C: Interface 1
D: R3
![[COMP3015/2.png/Tutorial 2.png]]
***Answer*** : (iv)
113 = 01110001
91 = 01011011
![[COMP3015/2.png/Tutorial 3.png]]
***Answer*** : 
 (c)
![[COMP3015/2.png/Tutorial 4.png]]
4. For all three protocols, we don't need an arrival notification
5. 2048 + 128 + 256 = 2432 bits to be transmitted
	In order to transmit 2432 bits, four network packets are required, and four 64-bit headers will be generated.
	Each packet can contain up to 700-64 = 636 bits of data and / or higher layer headers
	The total number of bits delivered = 2432 + 4×64 = 2688 bits
