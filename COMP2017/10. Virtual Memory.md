- Virtual Memory
	- memory has small size but hard disk has large size
	- make use of the large disk space to tackle the insufficient memory problem
	- swap out
		- not enough memory space
		- swap out to free memory space
	- swap in
		- need a page which is not in memory
		- swap in demanded instructions/data
	- in-memory bit
		- 1
			- the page is in memory
		- 0
			- the page is not in memory
			- page fault
				- Case 1: memory has free space
					- swap in the demanded page
				- Case 2: memory is full
					- swap out an existing page
					- swap in the demanded page
	- **Page Replacement**
		- **FIFO Page Replacement**
			- selects the oldest page to be repaced
			- Merit
				- **simple** and **fase**
			- Demerit
				- the oldest page may be the important one
		- **Least-Recently-Used Page Replacement**
			- maintains a time-stamp for each page
			- selects the page that has not been used for the longest time
			- Merit
				- gives good performance
			- Demerit
				- the overhead for updating the time stamp is very large
		- **Not-Recently-Used Page Replacement**
			- least important page
				- has not been referenced
			- middle important page
				- has been referenced
				- has not been modified
			- most important page
				- has been referenced and modified
			- reference-bit
				- 1
					- the page has been referenced
				- 0
					- otherwise
			- modified-bit
				- 1
					- the page has been modified
				- 0
					- otherwise
			- Method
				- Initialization
					- Set referenced-bits and modified-bits of all pages to 0
				- Updating the bits
					- read
						- referenced-bit <- 1
					- write
						- referenced-bit <- 1
						- modified-bit <- 1
				- Selecting a page for replacement
				- Reset the bits
					- Periodically, reset the **referenced-bits** of all pages to 0
	- **Speeding Up Swap In/Out**
		- **Improved Swap In/Out**
			- Case 1: the selected page has been modified
				- swap out the selected page
				- swap in the demanded page
			- Case 2: the selected page has not been modified
				- swap in the demanded page to overwrite the selected page
		- **Page Buffering with Proactive Writing**
			- At idle time
				- the OS proactively writes a modified page to hard disk
				- reset modified-bit to 0
			- when the OS replace this page
				- overwrites this unmodified page
		- **Page Buffering with Reserved Frames**
			- reserves some free frames
			- Swap in
				- swap in the demanded page into a reserved frame
			- Swap out
				- swap out the selected page
				- there are still two reserved free frames

- Virtual Memory in Unix
	- Second Chance Replacement
		- retains the merit of FIFO
			- simple and fast
		- reduces the demerit of FIFO
			- reduce the chance of replacing a popular page
		- steps
			- select a page that has been loaded into memory for the longest time
			- If its referenced-bit=0, replace this page and STOP
			- If its referenced-bit=1, give a second chanceto this page
				- Reset its reference-bit to 0
				- Reset its arrival time to the current time
				- go to the first step


